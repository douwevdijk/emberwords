{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/dtevandijk/Downloads/wereldwoorden-next/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB9L73dyPoocEJ1_ApEmLuc5tjwixffwKc\",\n  authDomain: \"me-do.firebaseapp.com\",\n  databaseURL: \"https://me-do.firebaseio.com\",\n  projectId: \"firebase-me-do\",\n  storageBucket: \"firebase-me-do.appspot.com\",\n  messagingSenderId: \"1012066892690\",\n  appId: \"1:1012066892690:web:e63e369e7ad96d296edf4b\",\n  measurementId: \"G-Z5GXRXQWKZ\"\n};\n\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\nexport const db = getFirestore(app);\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,aAAa;IACb,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,MAAM,MAAM,IAAA,8KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,oLAAa,EAAC,kBAAkB,IAAA,8KAAO,GAAE,CAAC,EAAE;AAC1E,MAAM,KAAK,IAAA,kLAAY,EAAC"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Users/dtevandijk/Downloads/wereldwoorden-next/src/lib/wordService.ts"],"sourcesContent":["import { db } from './firebase';\nimport {\n  collection,\n  doc,\n  getDocs,\n  getDoc,\n  setDoc,\n  deleteDoc,\n  query,\n  orderBy\n} from 'firebase/firestore';\nimport { WordCard } from './types';\n\nconst WORDS_COLLECTION = 'words';\n\n// Get all words from Firestore\nexport const getAllWords = async (): Promise<WordCard[]> => {\n  try {\n    const wordsRef = collection(db, WORDS_COLLECTION);\n    const q = query(wordsRef, orderBy('word'));\n    const snapshot = await getDocs(q);\n\n    return snapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    } as WordCard));\n  } catch (error) {\n    console.error('Error fetching words:', error);\n    return [];\n  }\n};\n\n// Get a single word by ID\nexport const getWordById = async (id: string): Promise<WordCard | null> => {\n  try {\n    const docRef = doc(db, WORDS_COLLECTION, id);\n    const docSnap = await getDoc(docRef);\n\n    if (docSnap.exists()) {\n      return {\n        id: docSnap.id,\n        ...docSnap.data()\n      } as WordCard;\n    }\n    return null;\n  } catch (error) {\n    console.error('Error fetching word:', error);\n    return null;\n  }\n};\n\n// Save a word to Firestore\nexport const saveWord = async (word: WordCard): Promise<boolean> => {\n  try {\n    const docRef = doc(db, WORDS_COLLECTION, word.id);\n    await setDoc(docRef, {\n      word: word.word,\n      country: word.country,\n      shortDefinition: word.shortDefinition,\n      question: word.question,\n      pronunciation: word.pronunciation || null,\n      deepDive: word.deepDive || null\n    });\n    return true;\n  } catch (error) {\n    console.error('Error saving word:', error);\n    return false;\n  }\n};\n\n// Delete a word from Firestore\nexport const deleteWord = async (id: string): Promise<boolean> => {\n  try {\n    const docRef = doc(db, WORDS_COLLECTION, id);\n    await deleteDoc(docRef);\n    return true;\n  } catch (error) {\n    console.error('Error deleting word:', error);\n    return false;\n  }\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;;;AAYA,MAAM,mBAAmB;AAGlB,MAAM,cAAc;IACzB,IAAI;QACF,MAAM,WAAW,IAAA,gLAAU,EAAC,+HAAE,EAAE;QAChC,MAAM,IAAI,IAAA,2KAAK,EAAC,UAAU,IAAA,6KAAO,EAAC;QAClC,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC/B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;YACf,CAAa;IACf,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,EAAE;IACX;AACF;AAGO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,kBAAkB;QACzC,MAAM,UAAU,MAAM,IAAA,4KAAM,EAAC;QAE7B,IAAI,QAAQ,MAAM,IAAI;YACpB,OAAO;gBACL,IAAI,QAAQ,EAAE;gBACd,GAAG,QAAQ,IAAI,EAAE;YACnB;QACF;QACA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;IACT;AACF;AAGO,MAAM,WAAW,OAAO;IAC7B,IAAI;QACF,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,kBAAkB,KAAK,EAAE;QAChD,MAAM,IAAA,4KAAM,EAAC,QAAQ;YACnB,MAAM,KAAK,IAAI;YACf,SAAS,KAAK,OAAO;YACrB,iBAAiB,KAAK,eAAe;YACrC,UAAU,KAAK,QAAQ;YACvB,eAAe,KAAK,aAAa,IAAI;YACrC,UAAU,KAAK,QAAQ,IAAI;QAC7B;QACA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO;IACT;AACF;AAGO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,SAAS,IAAA,yKAAG,EAAC,+HAAE,EAAE,kBAAkB;QACzC,MAAM,IAAA,+KAAS,EAAC;QAChB,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;IACT;AACF"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/dtevandijk/Downloads/wereldwoorden-next/src/lib/memoryService.ts"],"sourcesContent":["import { db } from './firebase';\nimport {\n  collection,\n  doc,\n  getDocs,\n  addDoc,\n  query,\n  where,\n  orderBy,\n  Timestamp\n} from 'firebase/firestore';\nimport { UserMemory } from './types';\n\nconst MEMORIES_COLLECTION = 'memories';\n\n// Save a new memory\nexport const saveMemory = async (memory: Omit<UserMemory, 'id' | 'timestamp'>): Promise<string | null> => {\n  try {\n    console.log('Saving memory:', memory);\n\n    // Prepare data - ensure no undefined values\n    const memoryData = {\n      cardId: memory.cardId,\n      userName: memory.userName,\n      text: memory.text,\n      userLocation: {\n        lat: memory.userLocation.lat,\n        lng: memory.userLocation.lng,\n        name: memory.userLocation.name || null\n      },\n      mediaUrl: memory.mediaUrl || null,\n      mediaType: memory.mediaType || 'none',\n      timestamp: Timestamp.now()\n    };\n\n    console.log('Memory data prepared:', memoryData);\n\n    const docRef = await addDoc(collection(db, MEMORIES_COLLECTION), memoryData);\n    console.log('Memory saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving memory:', error);\n    return null;\n  }\n};\n\n// Get all memories for a specific word card\nexport const getMemoriesByCardId = async (cardId: string): Promise<UserMemory[]> => {\n  try {\n    const memoriesRef = collection(db, MEMORIES_COLLECTION);\n    const q = query(\n      memoriesRef,\n      where('cardId', '==', cardId),\n      orderBy('timestamp', 'desc')\n    );\n    const snapshot = await getDocs(q);\n\n    return snapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data(),\n      timestamp: doc.data().timestamp?.toMillis() || Date.now()\n    } as UserMemory));\n  } catch (error) {\n    console.error('Error fetching memories:', error);\n    return [];\n  }\n};\n\n// Get all memories (for world map)\nexport const getAllMemories = async (): Promise<UserMemory[]> => {\n  try {\n    const memoriesRef = collection(db, MEMORIES_COLLECTION);\n    const q = query(memoriesRef, orderBy('timestamp', 'desc'));\n    const snapshot = await getDocs(q);\n\n    return snapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data(),\n      timestamp: doc.data().timestamp?.toMillis() || Date.now()\n    } as UserMemory));\n  } catch (error) {\n    console.error('Error fetching all memories:', error);\n    return [];\n  }\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AAAA;;;AAYA,MAAM,sBAAsB;AAGrB,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,QAAQ,GAAG,CAAC,kBAAkB;QAE9B,4CAA4C;QAC5C,MAAM,aAAa;YACjB,QAAQ,OAAO,MAAM;YACrB,UAAU,OAAO,QAAQ;YACzB,MAAM,OAAO,IAAI;YACjB,cAAc;gBACZ,KAAK,OAAO,YAAY,CAAC,GAAG;gBAC5B,KAAK,OAAO,YAAY,CAAC,GAAG;gBAC5B,MAAM,OAAO,YAAY,CAAC,IAAI,IAAI;YACpC;YACA,UAAU,OAAO,QAAQ,IAAI;YAC7B,WAAW,OAAO,SAAS,IAAI;YAC/B,WAAW,+KAAS,CAAC,GAAG;QAC1B;QAEA,QAAQ,GAAG,CAAC,yBAAyB;QAErC,MAAM,SAAS,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,sBAAsB;QACjE,QAAQ,GAAG,CAAC,yBAAyB,OAAO,EAAE;QAC9C,OAAO,OAAO,EAAE;IAClB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;IACT;AACF;AAGO,MAAM,sBAAsB,OAAO;IACxC,IAAI;QACF,MAAM,cAAc,IAAA,gLAAU,EAAC,+HAAE,EAAE;QACnC,MAAM,IAAI,IAAA,2KAAK,EACb,aACA,IAAA,2KAAK,EAAC,UAAU,MAAM,SACtB,IAAA,6KAAO,EAAC,aAAa;QAEvB,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC/B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,IAAI,IAAI,GAAG,SAAS,EAAE,cAAc,KAAK,GAAG;YACzD,CAAe;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,EAAE;IACX;AACF;AAGO,MAAM,iBAAiB;IAC5B,IAAI;QACF,MAAM,cAAc,IAAA,gLAAU,EAAC,+HAAE,EAAE;QACnC,MAAM,IAAI,IAAA,2KAAK,EAAC,aAAa,IAAA,6KAAO,EAAC,aAAa;QAClD,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC/B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,IAAI,IAAI,GAAG,SAAS,EAAE,cAAc,KAAK,GAAG;YACzD,CAAe;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,EAAE;IACX;AACF"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/dtevandijk/Downloads/wereldwoorden-next/src/lib/locationService.ts"],"sourcesContent":["// Location service using OpenStreetMap Nominatim (free, no API key needed)\n\nexport interface LocationResult {\n  lat: number;\n  lng: number;\n  name: string;\n  city?: string;\n  country?: string;\n}\n\n// Reverse geocoding: coordinates to address\nexport const getAddressFromCoords = async (lat: number, lng: number): Promise<LocationResult | null> => {\n  try {\n    const response = await fetch(\n      `https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lng}&format=json&accept-language=nl`,\n      {\n        headers: {\n          'User-Agent': 'WereldWoorden App'\n        }\n      }\n    );\n\n    if (!response.ok) return null;\n\n    const data = await response.json();\n    const address = data.address || {};\n\n    // Build a nice display name\n    const city = address.city || address.town || address.village || address.municipality;\n    const country = address.country;\n    const name = city && country ? `${city}, ${country}` : data.display_name?.split(',').slice(0, 2).join(',');\n\n    return {\n      lat,\n      lng,\n      name: name || 'Onbekende locatie',\n      city,\n      country\n    };\n  } catch (error) {\n    console.error('Reverse geocoding error:', error);\n    return null;\n  }\n};\n\nexport const GOOGLE_PLACES_API_KEY = 'AIzaSyAjtbkAOwXWA1qWTmvwHDTrWECxyWRg1p0';\n\n// Placeholder - actual search is done via Google Places Autocomplete in the component\nexport const searchPlaces = async (_query: string): Promise<LocationResult[]> => {\n  // This function is kept for compatibility but the actual search\n  // is now handled by Google Places Autocomplete widget\n  return [];\n};\n\n// Get current position using browser Geolocation API\nexport const getCurrentPosition = (): Promise<{ lat: number; lng: number }> => {\n  return new Promise((resolve, reject) => {\n    if (!navigator.geolocation) {\n      reject(new Error('Geolocation not supported'));\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        resolve({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        });\n      },\n      (error) => {\n        reject(error);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 300000 // 5 minutes cache\n      }\n    );\n  });\n};\n"],"names":[],"mappings":"AAAA,2EAA2E;;;;;;;;;;;AAWpE,MAAM,uBAAuB,OAAO,KAAa;IACtD,IAAI;QACF,MAAM,WAAW,MAAM,MACrB,CAAC,gDAAgD,EAAE,IAAI,KAAK,EAAE,IAAI,+BAA+B,CAAC,EAClG;YACE,SAAS;gBACP,cAAc;YAChB;QACF;QAGF,IAAI,CAAC,SAAS,EAAE,EAAE,OAAO;QAEzB,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,MAAM,UAAU,KAAK,OAAO,IAAI,CAAC;QAEjC,4BAA4B;QAC5B,MAAM,OAAO,QAAQ,IAAI,IAAI,QAAQ,IAAI,IAAI,QAAQ,OAAO,IAAI,QAAQ,YAAY;QACpF,MAAM,UAAU,QAAQ,OAAO;QAC/B,MAAM,OAAO,QAAQ,UAAU,GAAG,KAAK,EAAE,EAAE,SAAS,GAAG,KAAK,YAAY,EAAE,MAAM,KAAK,MAAM,GAAG,GAAG,KAAK;QAEtG,OAAO;YACL;YACA;YACA,MAAM,QAAQ;YACd;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;IACT;AACF;AAEO,MAAM,wBAAwB;AAG9B,MAAM,eAAe,OAAO;IACjC,gEAAgE;IAChE,sDAAsD;IACtD,OAAO,EAAE;AACX;AAGO,MAAM,qBAAqB;IAChC,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,IAAI,CAAC,UAAU,WAAW,EAAE;YAC1B,OAAO,IAAI,MAAM;YACjB;QACF;QAEA,UAAU,WAAW,CAAC,kBAAkB,CACtC,CAAC;YACC,QAAQ;gBACN,KAAK,SAAS,MAAM,CAAC,QAAQ;gBAC7B,KAAK,SAAS,MAAM,CAAC,SAAS;YAChC;QACF,GACA,CAAC;YACC,OAAO;QACT,GACA;YACE,oBAAoB;YACpB,SAAS;YACT,YAAY,OAAO,kBAAkB;QACvC;IAEJ;AACF"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///Users/dtevandijk/Downloads/wereldwoorden-next/src/app/card/%5Bid%5D/memory/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, use, useEffect, lazy, Suspense } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { ArrowLeft, Camera, MapPin, Send, X, Loader2, Navigation, Search } from 'lucide-react';\nimport { getWordById } from '@/lib/wordService';\nimport { saveMemory } from '@/lib/memoryService';\nimport { getCurrentPosition, getAddressFromCoords, LocationResult } from '@/lib/locationService';\nimport { WordCard } from '@/lib/types';\n\n// Lazy load components\nconst LocationMap = lazy(() => import('@/components/LocationMap'));\nconst PlacesAutocomplete = lazy(() => import('@/components/PlacesAutocomplete'));\n\ninterface Props {\n  params: Promise<{ id: string }>;\n}\n\nexport default function MemoryPage({ params }: Props) {\n  const { id } = use(params);\n  const router = useRouter();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const [card, setCard] = useState<WordCard | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [name, setName] = useState('');\n  const [text, setText] = useState('');\n  const [image, setImage] = useState<string | null>(null);\n  const [location, setLocation] = useState<LocationResult | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isGettingLocation, setIsGettingLocation] = useState(false);\n  const [isUploadingImage, setIsUploadingImage] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n\n  // Search state\n  const [showSearch, setShowSearch] = useState(false);\n\n  // Check if user came from card page (via button), otherwise redirect\n  useEffect(() => {\n    const hasNavigated = sessionStorage.getItem(`memory-${id}`);\n\n    if (!hasNavigated) {\n      // User refreshed or came directly - redirect to card\n      router.replace(`/card/${id}`);\n    } else {\n      // Clear the flag immediately so refresh will redirect\n      sessionStorage.removeItem(`memory-${id}`);\n    }\n  }, [id, router]);\n\n  // Load card data\n  useEffect(() => {\n    const loadCard = async () => {\n      const wordCard = await getWordById(id);\n      setCard(wordCard);\n      setLoading(false);\n    };\n    loadCard();\n  }, [id]);\n\n  const handleImageSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setIsUploadingImage(true);\n      setUploadProgress(0);\n\n      const reader = new FileReader();\n\n      reader.onprogress = (event) => {\n        if (event.lengthComputable) {\n          const progress = Math.round((event.loaded / event.total) * 100);\n          setUploadProgress(progress);\n        }\n      };\n\n      reader.onloadend = () => {\n        // Simulate a slight delay to show the completion state\n        setUploadProgress(100);\n        setTimeout(() => {\n          setImage(reader.result as string);\n          setIsUploadingImage(false);\n          setUploadProgress(0);\n        }, 300);\n      };\n\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleGetLocation = async () => {\n    setIsGettingLocation(true);\n    try {\n      const coords = await getCurrentPosition();\n      const locationData = await getAddressFromCoords(coords.lat, coords.lng);\n      if (locationData) {\n        setLocation(locationData);\n      } else {\n        setLocation({ lat: coords.lat, lng: coords.lng, name: 'Locatie gevonden' });\n      }\n    } catch (error) {\n      console.error('Location error:', error);\n      alert('Kon locatie niet ophalen. Probeer handmatig te zoeken.');\n      setShowSearch(true);\n    } finally {\n      setIsGettingLocation(false);\n    }\n  };\n\n  const handleSelectSearchResult = (result: LocationResult) => {\n    setLocation(result);\n    setShowSearch(false);\n  };\n\n  const handleSubmit = async () => {\n    if (!text.trim()) {\n      alert('Schrijf eerst je verhaal');\n      return;\n    }\n\n    if (!location) {\n      alert('Voeg een locatie toe');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const memoryId = await saveMemory({\n        cardId: id,\n        userName: name.trim(),\n        text: text.trim(),\n        userLocation: {\n          lat: location.lat,\n          lng: location.lng,\n          name: location.name\n        },\n        mediaUrl: image || undefined,\n        mediaType: image ? 'image' : 'none'\n      });\n\n      console.log('Save result:', memoryId);\n\n      if (memoryId) {\n        // Clear session storage and go to success page\n        sessionStorage.removeItem(`memory-${id}`);\n        router.push(`/card/${id}/memory/success`);\n      } else {\n        alert('Er ging iets mis bij het opslaan. Check de console voor details.');\n        setIsSubmitting(false);\n      }\n    } catch (error) {\n      console.error('Submit error:', error);\n      alert('Er ging iets mis. Probeer opnieuw.');\n      setIsSubmitting(false);\n    }\n  };\n\n  if (loading || !card) {\n    return (\n      <div className=\"min-h-screen bg-stone-50 flex items-center justify-center\">\n        <Loader2 className=\"animate-spin text-stone-400\" size={32} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-stone-50\">\n      {/* Header */}\n      <div className=\"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-stone-200 px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          <button\n            onClick={() => router.push(`/card/${id}`)}\n            className=\"text-stone-500 hover:text-stone-800 transition-colors flex items-center gap-1 w-20\"\n          >\n            <ArrowLeft size={20} />\n            <span className=\"text-sm\">Terug</span>\n          </button>\n          <h1 className=\"font-serif text-xl text-stone-800\">{card.word}</h1>\n          <div className=\"w-20\"></div>\n        </div>\n      </div>\n\n      <div className=\"max-w-2xl mx-auto p-6\">\n        {/* Question reminder */}\n        <div className=\"bg-stone-800 text-white p-4 rounded-xl mb-6 border-l-4 border-amber-500\">\n          <p className=\"text-sm font-medium\">{card.question}</p>\n        </div>\n\n        {/* Name input */}\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-stone-700 mb-2\">\n            Naam\n          </label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            placeholder=\"Jouw naam\"\n            className=\"w-full px-4 py-3 border border-stone-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 text-stone-800\"\n          />\n        </div>\n\n        {/* Text input */}\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-stone-700 mb-2\">\n            Jouw verhaal\n          </label>\n          <textarea\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            placeholder=\"Beschrijf een moment waarop je dit gevoel ervoer...\"\n            className=\"w-full h-40 p-4 border border-stone-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none text-stone-800\"\n          />\n        </div>\n\n        {/* Image upload */}\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-stone-700 mb-2\">\n            Foto (optioneel)\n          </label>\n          {isUploadingImage ? (\n            // Upload progress state\n            <div className=\"w-full h-32 border-2 border-amber-300 bg-amber-50 rounded-xl flex flex-col items-center justify-center\">\n              <Loader2 size={32} className=\"text-amber-500 animate-spin mb-3\" />\n              <div className=\"w-32 h-2 bg-amber-200 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full bg-amber-500 transition-all duration-200 ease-out\"\n                  style={{ width: `${uploadProgress}%` }}\n                />\n              </div>\n              <span className=\"text-sm text-amber-600 mt-2\">{uploadProgress}%</span>\n            </div>\n          ) : image ? (\n            <div className=\"relative\">\n              <img\n                src={image}\n                alt=\"Gekozen foto\"\n                className=\"w-full h-48 object-cover rounded-xl\"\n              />\n              <button\n                onClick={() => setImage(null)}\n                className=\"absolute top-2 right-2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70\"\n              >\n                <X size={16} />\n              </button>\n            </div>\n          ) : (\n            <button\n              onClick={() => fileInputRef.current?.click()}\n              className=\"w-full h-32 border-2 border-dashed border-stone-300 rounded-xl flex flex-col items-center justify-center text-stone-400 hover:border-amber-500 hover:text-amber-500 transition-colors\"\n            >\n              <Camera size={32} className=\"mb-2\" />\n              <span className=\"text-sm\">Voeg een foto toe</span>\n            </button>\n          )}\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleImageSelect}\n            className=\"hidden\"\n          />\n        </div>\n\n        {/* Location */}\n        <div className=\"mb-8\">\n          <label className=\"block text-sm font-medium text-stone-700 mb-2\">\n            Waar was je?\n          </label>\n\n          {location ? (\n            // Location selected\n            <div>\n              <div className=\"flex items-center gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl\">\n                <MapPin size={24} className=\"text-amber-500 flex-shrink-0\" />\n                <span className=\"text-stone-800 font-medium flex-1\">{location.name}</span>\n                <button\n                  onClick={() => setLocation(null)}\n                  className=\"text-stone-400 hover:text-stone-600 p-1\"\n                >\n                  <X size={20} />\n                </button>\n              </div>\n              {/* Mini map showing the location */}\n              <Suspense fallback={\n                <div className=\"w-full h-40 rounded-xl bg-stone-100 mt-3 flex items-center justify-center\">\n                  <Loader2 className=\"animate-spin text-stone-400\" size={24} />\n                </div>\n              }>\n                <LocationMap lat={location.lat} lng={location.lng} name={location.name} />\n              </Suspense>\n            </div>\n          ) : showSearch ? (\n            // Search mode - Google Places Autocomplete\n            <Suspense fallback={\n              <div className=\"flex items-center justify-center py-4\">\n                <Loader2 className=\"animate-spin text-amber-500\" size={24} />\n              </div>\n            }>\n              <PlacesAutocomplete\n                onSelect={handleSelectSearchResult}\n                onCancel={() => setShowSearch(false)}\n              />\n            </Suspense>\n          ) : (\n            // Location buttons\n            <div className=\"space-y-3\">\n              <button\n                onClick={handleGetLocation}\n                disabled={isGettingLocation}\n                className=\"w-full flex items-center justify-center gap-3 px-4 py-4 bg-amber-500 hover:bg-amber-600 disabled:bg-amber-300 text-stone-900 font-bold rounded-xl transition-colors\"\n              >\n                {isGettingLocation ? (\n                  <Loader2 size={22} className=\"animate-spin\" />\n                ) : (\n                  <Navigation size={22} />\n                )}\n                <span>Gebruik mijn locatie</span>\n              </button>\n\n              <button\n                onClick={() => setShowSearch(true)}\n                className=\"w-full flex items-center justify-center gap-2 px-4 py-3 border border-stone-200 text-stone-600 rounded-xl hover:border-stone-300 hover:bg-stone-50 transition-colors\"\n              >\n                <Search size={18} />\n                <span className=\"text-sm\">Of zoek een plaats</span>\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Submit button */}\n        <button\n          onClick={handleSubmit}\n          disabled={isSubmitting || !text.trim() || !location}\n          className=\"w-full bg-stone-900 hover:bg-stone-800 disabled:bg-stone-300 text-white py-4 rounded-xl font-bold flex items-center justify-center gap-3 transition-colors shadow-lg\"\n        >\n          {isSubmitting ? (\n            <Loader2 size={20} className=\"animate-spin\" />\n          ) : (\n            <>\n              <Send size={20} />\n              Verstuur\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}