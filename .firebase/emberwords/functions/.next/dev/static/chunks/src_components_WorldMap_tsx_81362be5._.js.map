{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/dtevandijk/Downloads/wereldwoorden-next/src/components/WorldMap.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { UserMemory, WordCard } from '@/lib/types';\n\n// Custom marker icon - subtle and elegant\nconst createMarkerIcon = () => {\n  return L.divIcon({\n    html: `\n      <div style=\"\n        width: 32px;\n        height: 32px;\n        position: relative;\n      \">\n        <div style=\"\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 14px;\n          height: 14px;\n          background-color: #f59e0b;\n          border-radius: 50%;\n          border: 2px solid white;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.25);\n        \"></div>\n        <div style=\"\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 28px;\n          height: 28px;\n          background-color: rgba(245, 158, 11, 0.2);\n          border-radius: 50%;\n        \"></div>\n      </div>\n    `,\n    className: 'custom-marker',\n    iconSize: [32, 32],\n    iconAnchor: [16, 16],\n    popupAnchor: [0, -16]\n  });\n};\n\n// Component to fit bounds when markers change\nfunction FitBounds({ memories }: { memories: UserMemory[] }) {\n  const map = useMap();\n\n  useEffect(() => {\n    if (memories.length === 0) return;\n\n    const bounds = L.latLngBounds(\n      memories.map(m => [m.userLocation.lat, m.userLocation.lng] as [number, number])\n    );\n\n    if (bounds.isValid()) {\n      map.fitBounds(bounds, { padding: [50, 50], maxZoom: 10 });\n    }\n  }, [map, memories]);\n\n  return null;\n}\n\ninterface WorldMapProps {\n  memories: UserMemory[];\n  words: WordCard[];\n  onSelectMemory: (memory: UserMemory) => void;\n}\n\nexport default function WorldMap({ memories, words, onSelectMemory }: WorldMapProps) {\n  const markerIcon = createMarkerIcon();\n\n  // Get word for memory\n  const getWord = (memory: UserMemory) => words.find(w => w.id === memory.cardId);\n\n  // Default center (Europe)\n  const defaultCenter: [number, number] = [52.0, 5.0];\n  const defaultZoom = 3;\n\n  return (\n    <MapContainer\n      center={defaultCenter}\n      zoom={defaultZoom}\n      scrollWheelZoom={true}\n      style={{ height: '100%', width: '100%' }}\n      className=\"z-0\"\n    >\n      {/* CartoDB Voyager - clean, modern style */}\n      <TileLayer\n        attribution='&copy; <a href=\"https://carto.com/\">CARTO</a>'\n        url=\"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\"\n      />\n\n      {memories.length > 0 && <FitBounds memories={memories} />}\n\n      {memories.map((memory) => {\n        const word = getWord(memory);\n        return (\n          <Marker\n            key={memory.id}\n            position={[memory.userLocation.lat, memory.userLocation.lng]}\n            icon={markerIcon}\n            eventHandlers={{\n              click: () => onSelectMemory(memory)\n            }}\n          >\n            <Popup>\n              <div className=\"text-center min-w-[120px]\">\n                <p className=\"font-serif font-bold text-stone-800\">{word?.word}</p>\n                <p className=\"text-xs text-stone-500\">{memory.userLocation.name}</p>\n              </div>\n            </Popup>\n          </Marker>\n        );\n      })}\n    </MapContainer>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAJA;;;;;AAQA,0CAA0C;AAC1C,MAAM,mBAAmB;IACvB,OAAO,+JAAC,CAAC,OAAO,CAAC;QACf,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA6BP,CAAC;QACD,WAAW;QACX,UAAU;YAAC;YAAI;SAAG;QAClB,YAAY;YAAC;YAAI;SAAG;QACpB,aAAa;YAAC;YAAG,CAAC;SAAG;IACvB;AACF;AAEA,8CAA8C;AAC9C,SAAS,UAAU,EAAE,QAAQ,EAA8B;;IACzD,MAAM,MAAM,IAAA,6JAAM;IAElB,IAAA,0KAAS;+BAAC;YACR,IAAI,SAAS,MAAM,KAAK,GAAG;YAE3B,MAAM,SAAS,+JAAC,CAAC,YAAY,CAC3B,SAAS,GAAG;8CAAC,CAAA,IAAK;wBAAC,EAAE,YAAY,CAAC,GAAG;wBAAE,EAAE,YAAY,CAAC,GAAG;qBAAC;;YAG5D,IAAI,OAAO,OAAO,IAAI;gBACpB,IAAI,SAAS,CAAC,QAAQ;oBAAE,SAAS;wBAAC;wBAAI;qBAAG;oBAAE,SAAS;gBAAG;YACzD;QACF;8BAAG;QAAC;QAAK;KAAS;IAElB,OAAO;AACT;GAhBS;;QACK,6JAAM;;;KADX;AAwBM,SAAS,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAiB;IACjF,MAAM,aAAa;IAEnB,sBAAsB;IACtB,MAAM,UAAU,CAAC,SAAuB,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,MAAM;IAE9E,0BAA0B;IAC1B,MAAM,gBAAkC;QAAC;QAAM;KAAI;IACnD,MAAM,cAAc;IAEpB,qBACE,6LAAC,0KAAY;QACX,QAAQ;QACR,MAAM;QACN,iBAAiB;QACjB,OAAO;YAAE,QAAQ;YAAQ,OAAO;QAAO;QACvC,WAAU;;0BAGV,6LAAC,oKAAS;gBACR,aAAY;gBACZ,KAAI;;;;;;YAGL,SAAS,MAAM,GAAG,mBAAK,6LAAC;gBAAU,UAAU;;;;;;YAE5C,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,OAAO,QAAQ;gBACrB,qBACE,6LAAC,8JAAM;oBAEL,UAAU;wBAAC,OAAO,YAAY,CAAC,GAAG;wBAAE,OAAO,YAAY,CAAC,GAAG;qBAAC;oBAC5D,MAAM;oBACN,eAAe;wBACb,OAAO,IAAM,eAAe;oBAC9B;8BAEA,cAAA,6LAAC,4JAAK;kCACJ,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;8CAAuC,MAAM;;;;;;8CAC1D,6LAAC;oCAAE,WAAU;8CAA0B,OAAO,YAAY,CAAC,IAAI;;;;;;;;;;;;;;;;;mBAV9D,OAAO,EAAE;;;;;YAepB;;;;;;;AAGN;MAhDwB"}}]
}