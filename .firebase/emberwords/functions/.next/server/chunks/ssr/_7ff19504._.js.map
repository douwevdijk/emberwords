{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../src/components/WorldMap.tsx","../../../../node_modules/react-leaflet/lib/Popup.js"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","'use client';\n\nimport { useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { UserMemory, WordCard } from '@/lib/types';\n\n// Custom marker icon - subtle and elegant\nconst createMarkerIcon = () => {\n  return L.divIcon({\n    html: `\n      <div style=\"\n        width: 32px;\n        height: 32px;\n        position: relative;\n      \">\n        <div style=\"\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 14px;\n          height: 14px;\n          background-color: #f59e0b;\n          border-radius: 50%;\n          border: 2px solid white;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.25);\n        \"></div>\n        <div style=\"\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 28px;\n          height: 28px;\n          background-color: rgba(245, 158, 11, 0.2);\n          border-radius: 50%;\n        \"></div>\n      </div>\n    `,\n    className: 'custom-marker',\n    iconSize: [32, 32],\n    iconAnchor: [16, 16],\n    popupAnchor: [0, -16]\n  });\n};\n\n// Component to fit bounds when markers change\nfunction FitBounds({ memories }: { memories: UserMemory[] }) {\n  const map = useMap();\n\n  useEffect(() => {\n    if (memories.length === 0) return;\n\n    const bounds = L.latLngBounds(\n      memories.map(m => [m.userLocation.lat, m.userLocation.lng] as [number, number])\n    );\n\n    if (bounds.isValid()) {\n      map.fitBounds(bounds, { padding: [50, 50], maxZoom: 10 });\n    }\n  }, [map, memories]);\n\n  return null;\n}\n\ninterface WorldMapProps {\n  memories: UserMemory[];\n  words: WordCard[];\n  onSelectMemory: (memory: UserMemory) => void;\n}\n\nexport default function WorldMap({ memories, words, onSelectMemory }: WorldMapProps) {\n  const markerIcon = createMarkerIcon();\n\n  // Get word for memory\n  const getWord = (memory: UserMemory) => words.find(w => w.id === memory.cardId);\n\n  // Default center (Europe)\n  const defaultCenter: [number, number] = [52.0, 5.0];\n  const defaultZoom = 3;\n\n  return (\n    <MapContainer\n      center={defaultCenter}\n      zoom={defaultZoom}\n      scrollWheelZoom={true}\n      style={{ height: '100%', width: '100%' }}\n      className=\"z-0\"\n      attributionControl={false}\n    >\n      {/* CartoDB Voyager - clean, modern style */}\n      <TileLayer\n        attribution='&copy; <a href=\"https://carto.com/\">CARTO</a>'\n        url=\"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\"\n      />\n\n      {memories.length > 0 && <FitBounds memories={memories} />}\n\n      {memories.map((memory) => {\n        const word = getWord(memory);\n        return (\n          <Marker\n            key={memory.id}\n            position={[memory.userLocation.lat, memory.userLocation.lng]}\n            icon={markerIcon}\n            eventHandlers={{\n              click: () => onSelectMemory(memory)\n            }}\n          >\n            <Popup>\n              <div className=\"text-center min-w-[120px]\">\n                <p className=\"font-serif font-bold text-stone-800\">{word?.word}</p>\n                <p className=\"text-xs text-stone-500\">{memory.userLocation.name}</p>\n              </div>\n            </Popup>\n          </Marker>\n        );\n      })}\n    </MapContainer>\n  );\n}\n","import { createElementObject, createOverlayComponent } from '@react-leaflet/core';\nimport { Popup as LeafletPopup } from 'leaflet';\nimport { useEffect } from 'react';\nexport const Popup = createOverlayComponent(function createPopup(props, context) {\n    const popup = new LeafletPopup(props, context.overlayContainer);\n    return createElementObject(popup, context);\n}, function usePopupLifecycle(element, context, { position }, setOpen) {\n    useEffect(function addPopup() {\n        const { instance } = element;\n        function onPopupOpen(event) {\n            if (event.popup === instance) {\n                instance.update();\n                setOpen(true);\n            }\n        }\n        function onPopupClose(event) {\n            if (event.popup === instance) {\n                setOpen(false);\n            }\n        }\n        context.map.on({\n            popupopen: onPopupOpen,\n            popupclose: onPopupClose\n        });\n        if (context.overlayContainer == null) {\n            // Attach to a Map\n            if (position != null) {\n                instance.setLatLng(position);\n            }\n            instance.openOn(context.map);\n        } else {\n            // Attach to container component\n            context.overlayContainer.bindPopup(instance);\n        }\n        return function removePopup() {\n            context.map.off({\n                popupopen: onPopupOpen,\n                popupclose: onPopupClose\n            });\n            context.overlayContainer?.unbindPopup();\n            context.map.removeLayer(instance);\n        };\n    }, [\n        element,\n        context,\n        setOpen,\n        position\n    ]);\n});\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"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","ignoreList":[0,2]}